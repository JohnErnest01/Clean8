<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CLEAN8 | Book a Cleaning</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f3f7ff;
        }

        .back-btn {
            display: inline-block;
            margin: 20px;
            padding: 10px 18px;
            background: #0d6efd;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
        }

        .booking-wrapper {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            margin-top: 30px;
            background: rgba(255,255,255,0.9);
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            background-image: url(Images/Light-Blue-and-White-Combination.webp);
            background-size: cover;
            background-position: center;
            backdrop-filter: blur(6px);
        }

        .booking-overlay {
            background: rgba(0,0,0,0.5);
            padding: 40px;
            border-radius: 16px;
        }

        .title {
            text-align: center;
            color: white;
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 30px;
        }

        form {
            color: white;
            font-size: 18px;
        }

        .section-title {
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 24px;
            font-weight: bold;
            border-left: 5px solid #0d6efd;
            padding-left: 10px;
        }

        .input-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .input-field {
            flex: 1;
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        input, select, textarea {
            padding: 14px;
            border-radius: 10px;
            border: none;
            outline: none;
            font-size: 16px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-left: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .submit-btn {
            width: 100%;
            margin-top: 30px;
            padding: 16px;
            background: #0d6efd;
            color: white;
            font-size: 20px;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<a href="index.html" class="back-btn">← Back</a>

<div class="booking-wrapper">
    <div class="booking-overlay">
        <div class="title">Book a Cleaning</div>

        <form onsubmit="submitBooking(event)">

            <!-- CUSTOMER INFO -->
            <div class="section-title">Customer Information</div>
            <div class="input-row">
                <div class="input-field"><input id="fullName" type="text" placeholder="Full Name"></div>
                <div class="input-field"><input id="contact" type="text" placeholder="Contact Number"></div>
            </div>
            <div class="input-field"><input id="email" type="email" placeholder="Email Address"></div>

            <!-- SERVICE TYPE -->
            <div class="section-title">Service Type</div>
            <div class="checkbox-group">
                <label class="checkbox-item"><input name="service_type" value="Regular Cleaning" type="radio"> Regular Cleaning (Condos / Small Houses)</label>
                <label class="checkbox-item"><input name="service_type" value="Full House Cleaning" type="radio"> Full House Cleaning</label>
                <label class="checkbox-item"><input name="service_type" value="Deep Cleaning" type="radio"> Deep Cleaning (One-Time Only)</label>
            </div>

            <!-- FREQUENCY -->
            <div class="section-title">Frequency / Subscription</div>
            <div class="checkbox-group">
                <label class="checkbox-item"><input name="frequency" value="One-Time Visit" type="radio"> One-Time Visit</label>
                <label class="checkbox-item"><input name="frequency" value="Weekly" type="radio"> Weekly (4× / month)</label>
                <label class="checkbox-item"><input name="frequency" value="Bi-Weekly" type="radio"> Bi-Weekly (2× / month)</label>
                <label class="checkbox-item"><input name="frequency" value="Monthly" type="radio"> Monthly (1× / month)</label>
            </div>

            <!-- HOUSE DETAILS -->
            <div class="section-title">House Details</div>
            <div class="input-row">
                <div class="input-field"><input id="bedrooms" type="number" placeholder="Number of Bedrooms"></div>
                <div class="input-field"><input id="bathrooms" type="number" placeholder="Number of Bathrooms"></div>
            </div>

            <div class="input-field"><input id="floor" type="number" placeholder="Approximate Floor Area (sqm)"></div>

            <!-- FILE UPLOAD -->
            <div class="input-field" style="margin-top: 10px;">
                <label style="color:white; margin-bottom: 8px; font-size: 16px;">Attach photo of house/office (optional)</label>
                <input type="file" multiple style="background: white; padding: 12px; border-radius: 10px; font-size: 15px;">
            </div>

            <!-- ADDRESS -->
            <div class="section-title">Address</div>

            <div class="input-field" style="margin-bottom: 15px;">
                <input id="street" type="text" placeholder="Street / House Number">
            </div>

            <div class="input-field" style="margin-bottom: 15px;">
                <input id="barangay" type="text" placeholder="Barangay / City">
            </div>

            <div class="input-field" style="margin-bottom: 20px;">
                <input id="landmark" type="text" placeholder="Landmark (optional)">
            </div>

            <!-- SCHEDULE -->
            <div class="section-title">Preferred Schedule</div>
            <div class="input-row">
                <div class="input-field"><input id="date" type="date"></div>
                <div class="input-field">
                    <select id="time">
                        <option>Morning</option>
                        <option>Afternoon</option>
                        <option>Evening</option>
                    </select>
                </div>
            </div>

            <!-- NOTES -->
            <div class="input-row" style="justify-content: center;">
                <div class="input-field" style="max-width: 420px; width: 100%;">
                    <textarea id="notes" placeholder="Notes / Special Requests (Optional)" style="width: 100%; height: 180px; padding: 14px; border-radius: 10px; border: none; font-size: 16px; outline: none; resize: none;"></textarea>
                </div>
            </div>

            <!-- AGREEMENT -->
            <div class="section-title">Agreement</div>
            <div class="checkbox-group">
                <label class="checkbox-item"><input type="checkbox"> I understand that final pricing may change based on home condition.</label>
                <label class="checkbox-item"><input type="checkbox"> I agree to Clean8’s Terms and Conditions.</label>
            </div>

            <!-- SUBMIT -->
            <button type="submit" class="submit-btn">Submit Booking</button>

        </form>
    </div>
</div>

<script>
function submitBooking(event) {
    event.preventDefault();

    const fullName = document.getElementById("fullName").value;
    const contact = document.getElementById("contact").value;
    const email = document.getElementById("email").value;

    const serviceType = document.querySelector("input[name='service_type']:checked")?.value;
    const frequency = document.querySelector("input[name='frequency']:checked")?.value;

    const bedrooms = document.getElementById("bedrooms").value;
    const bathrooms = document.getElementById("bathrooms").value;
    const floorArea = document.getElementById("floor").value;

    const street = document.getElementById("street").value;
    const barangay = document.getElementById("barangay").value;
    const landmark = document.getElementById("landmark").value;

    const date = document.getElementById("date").value;
    const time = document.getElementById("time").value;

    const notes = document.getElementById("notes").value || "None";

    const newAppointment = {
        fullName,
        contact,
        email,
        service: serviceType,
        frequency,
        bedrooms,
        bathrooms,
        floorArea,
        address: `${street}, ${barangay}`,
        landmark,
        date,
        time,
        notes,
        status: "Pending"
    };

    const existing = JSON.parse(localStorage.getItem("appointments") || "[]");
    existing.push(newAppointment);
    localStorage.setItem("appointments", JSON.stringify(existing));

    alert("Booking submitted! Redirecting to My Appointments...");
    window.location.href = "appointments.html";
}
</script>

</body>
</html>
